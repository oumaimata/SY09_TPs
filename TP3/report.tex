\documentclass[10pt]{article}
\usepackage{float}
\usepackage{listings}
\usepackage[french]{babel}
\usepackage[utf8x]{inputenc}
\usepackage{subcaption}
\usepackage{listings}
\usepackage{wrapfig}
\usepackage{color}
\usepackage{amsmath}
\usepackage{dsfont}
\usepackage{amsfonts}
\usepackage{mathtools}
\usepackage{graphicx}
\usepackage{caption}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\usepackage[table]{xcolor}
\usepackage{adjustbox}
\usepackage{multirow}
%opening
\definecolor{Gray}{gray}{0.85}

\setlength{\tabcolsep}{18pt}
\renewcommand{\arraystretch}{2.5}


\lstset
{frame=tb,
	language=R,
	aboveskip=3mm,
	belowskip=3mm,
	showstringspaces=false,
	framexleftmargin=5mm,
	columns= fixed,
	numbers = left,
	basicstyle={\small\ttfamily},	
	numberstyle=\tiny\color{gray},
	keywordstyle=\color{blue},
	commentstyle=\color{dkgreen},
	stringstyle=\color{mauve},
	breaklines=true,
	breakatwhitespace=true,
	tabsize=3
}


\title{
	\normalfont \normalsize 
	\textsc{Université de Technologie de Compiègne\\ 
		SY09:Analyse des données et Data-Mining , P17} \\
	[10pt] 
	\rule{\linewidth}{0.5pt} \\[6pt] 
	\huge Rendu TP3\\
	\rule{\linewidth}{2pt}  \\[10pt]
}
\author{Zineb Slam, Oumaima Talouka}
\date{\normalsize \today}

\begin{document}
	{\let\newpage\relax\maketitle}	
	
		
	
	\section{Classifieur euclidien, K plus proches voisins}
		\subsection{ Programmation}
		\subsubsection{Classifieur Euclidien}
	\textit{ceuc.app }est une fonction qui retourne les centres d'inertie de chaque classifieur. La fonction \textit{rowsum} sur R nous a été très utile pour sommer les lignes.\\
	La fonction \textit{ceuc.val}  prédit classe chaque individu des données tests. Nous utilisons ici la fonction \textit{distXY} pour calculer qui sépare chaque individu a chacun des centres d'inertie.
	
	\subsubsection{K Plus proches Voisins}
		Dans cette partie nous avons essaye  de programmer l'algorithme des k plus proches voisins en évitant les boucles.
	
		\subsubsection{ Test de fonctions}
		
			\subsection{ Évaluation des Performances}
			
			\subsubsection{Estimation des paramètres}
			
			Les résultats sont affichés dans Le tableau ci-dessous:
			\begin{center}		
			\begin{tabular}{ | c | c | c | c | c |}
				\rowcolor{lightgray}
			& &  \multicolumn{3}{c|}{Estimation des Parametres} \\
			\hline
			Jeu de données Synth1 & k & $\mu_{k}$ & $\sum_{k}$ & $\pi_{k} $\\
			\hline
			\multirow{2}{*}{40}       &   1&     $\begin{pmatrix} -0.32\\1.09 \end{pmatrix}$                 &     $\begin{bmatrix} 0.68 & 0.12 \\ 0.12 & 1.01 \end{bmatrix}$      & 	0.45				\\\cline{2-5}
			
			      									        &   2&      $\begin{pmatrix} -1.883\\0.105 \end{pmatrix}$          &         $\begin{bmatrix} 1.37 & 0.32 \\ 0.32 &1.44 \end{bmatrix}$        & 			0.55  		\\  
			      									         
			\hline
			\hline
			\multirow{2}{*}{100}      &   1&    $\begin{pmatrix} 0.02\\0.82 \end{pmatrix}$              &           $\begin{bmatrix} 0.88 & -0.13 \\ -0.13 & 1.12 \end{bmatrix}$      & 		0.54	   \\\cline{2-5}
			      											
			      											 &   2&        $\begin{pmatrix} -1.96\\-0.13 \end{pmatrix}$          &         $\begin{bmatrix} 0.76 & -0.04 \\ -0.04 & 0.76 \end{bmatrix}$               & 			0.46		\\
			      											
			\hline
			\hline
			\multirow{2}{*}{500}        &   1&       $\begin{pmatrix} 0.13\\0.88 \end{pmatrix}$            &         	$\begin{bmatrix} 1.05 & 0.052 \\ 0.052 & 0.98 \end{bmatrix}$             & 			0.53		\\\cline{2-5}
			        											&   2&         $\begin{pmatrix} -1.88\\-0.08 \end{pmatrix}$         &  
			        											$\begin{bmatrix} 0.97 & -0.11 \\ -0.11 & 0.98 \end{bmatrix}$                      & 		0.47		\\
		
			\hline
			\hline
			\multirow{2}{*}{1000}         &   1&   $\begin{pmatrix} -0.01\\0.91 \end{pmatrix}$           &        	$\begin{bmatrix} 0.97 & 0.06  \\ 1.08 & 0.06 \end{bmatrix}$          & 		0.50		\\\cline{2-5}
			         										&   2&       $\begin{pmatrix} -1.96\\0.02 \end{pmatrix}$            &    $\begin{bmatrix} 0.99 & 0.02 \\0.02 & 0.94 \end{bmatrix}$                  & 	0.50				\\
			\hline
			\hline
			\end{tabular}
		\end{center}
	
			\subsubsection{Calcul du taux d'erreur du classifieur Euclidien }
			Dans cette partie nous allons tester les performances de chacun des algorithmes programmes precedement en utilisan le critère de l'erreur qu'on exprime comme:
			\begin{center}
			$Erreur = \frac{1}{N} \sum_{i=1}^{n} {\mathds{1} \hat{z}_{i}  \neq z_{i}}$
			\end{center}
		Avec $z_{i}$ la vrai valeur de z et $\hat{z}_{i}$ la valeur calculée a partir de l'algorithme. N est le nombre d'individus. $\mathds{1} \hat{z}_{i}  \neq z_{i}$ = 1 si $\hat{z}_{i}  = z_{i}$, 0 sinon.
		Après avoir calculé le taux d'erreur on peut utiliser la formule ci-dessous pour calculer l'intervalle de confiance:
		\begin{center}
		$Ic = [\mu_\epsilon - t \frac{\sigma_{\epsilon}^2}{\sqrt{N}}, \mu_\epsilon + t \frac{\sigma_{\epsilon}^2}{\sqrt{N}}]$
		\end{center}
	
		On choisit un niveau de confiance t de 95\%. Notons ici que  $\mu$ et $\sigma$ sont ceux calculés pour les différentes valeurs de $\epsilon$ et non ceux du jeu de données. Autre point a remarquer est le N qui est ici le nombre d'individus , or comme on a sépare notre jeu de données entre un ensemble d'application et un ensemble de test, on veillera a mettre le nombre d'individus correspondant en fonction si c'est l'intervalle de confiance  d'application ou test. D'après l'énoncé en utilisant la fonction \textit{separ1} napp =$\frac{2n}{3}$  et ntst=$\frac{n}{3}$ n étant le nombre total d'individus du jeu de donnée.
			
			Les résultats obtenus pour les jeux de données sont affichés dans Le tableau qui suit.
			\begin{center}		
				\begin{tabular}{ | c | c| c | c | c |}
						\rowcolor{lightgray} 
				   	&  \multicolumn{4}{|c|}{ Performance du  Classifieur Euclidien}\\
					
					\hline
					Jeu de données Synth1  &  $\epsilon_{app}$ &  $Ic_{app}$&  $\epsilon_{test}$ &  $Ic_{test}$  \\
					\hline
					\multirow{1}{*}{40}   & 0.204375    & $[ 0.203, 0.205]$& 0.2325      & 	$[0.229, 0.236]$ \\
																
					\hline
					\multirow{1}{*}{100}      & 0.0937   &   $[0.0936, 0.0938]$& 0.099   & 	$[0.098, 0.099]$  \\
				
					\hline
					\multirow{1}{*}{500}     & 0.1335   &   $[0.1334, 0.1335]$& 0.1347    & 	$[0.1346, 0.1347]$	\\
				
					\hline
					\multirow{1}{*}{1000}    & 0.14055    & $[0.14054, 0.14055]$ &  0.1443    & $[0.1442, 0.1443]$  	\\
				
					\hline
				\end{tabular}
			\end{center}
		
			\subparagraph{Analyse de la performance du Classifieur Euclidien}
			On remarque que plus le nombre d'individus augmente plus l'erreur diminue ce qui est logique car avec plus de donnees dans le modele d'apprentissage notre modele peut bien apprendre les data et donc mieux classer les ensembles de tests.
			 
				\subsubsection{Le nombre Optimal de voisins du KPP }
			
				\subsubsection{Calcul du taux d'erreur du KPP }
		\begin{center}		
			\begin{tabular}{ | c | c | c |}
				\rowcolor{lightgray} 
				  &  \multicolumn{2}{|c|}{Performance du KPP}\\
				
				\hline
				Jeu de données Synth1 &   $\epsilon_{test}$ &  $Ic_{test}$\\
				\hline
				\multirow{1}{*}{40}       &0.25  & $[0.246, 0.253]$ 			 \\
				
				\hline
				\multirow{1}{*}{100}      & 0.116 	& $[0.115, 0.116]$  \\
				
				\hline
				\multirow{1}{*}{500}      &  0.1472  & 	$[0.1471, 0.1472]$	\\
				
				\hline
				\multirow{1}{*}{1000}      & 0.1544  & 	$[0.1543, 0.1544]$ 		\\
				
				\hline
			\end{tabular}
		\end{center}
	
	\subparagraph{Analyse de la performance du KPP: }
	
	
			
			\subparagraph{Comparaison des 2 méthodes: } 
			 En comparant les 2 méthodes on remarque que l'erreur ainsi que les intervalles de confiance du Classifier Euclidien sont bien inférieur a ceux de la méthode des KPP. Il faut cependant ne pas perdre en considération que notre ensemble d'application qu'on a obtenu avec la fonction \textbf{\textit{separ1}} est d'une taille plus importante que la taille de l'ensemble d'application utilise dans le KPP. Pour illustrer 2/3 des données ont ete utilise pour entrainer le Classifieur Euclidien alors que seulement n/4 ont été utilisées dans le KPP.
	
			
				\subsubsection{ Jeux de données Synth2-1000}
				
					\begin{center}		
					\begin{tabular}{ | c | c | c | c | c |}
						\rowcolor{lightgray} \multicolumn{5}{|c|}{Estimation des Paramètres} \\
						\hline
						Jeu de données & k & $\mu_{k}$ & $\sum_{k}$ & $\pi_{k} $\\
						\hline
						\multirow{2}{*}{Synth2-1000}       &   1&  $\begin{pmatrix} 3.018\\-0.0063 \end{pmatrix}$                 &     $\begin{bmatrix} 0.9904 & 0.1131 \\ 0.1131 & 1.092 \end{bmatrix}$      & 	0.52	     	\\\cline{2-5}
																	&   2&   $\begin{pmatrix} -2.142\\-0.0265 \end{pmatrix}$                 &     $\begin{bmatrix} 4.435 & -0.154 \\ -0.154 & 1.030 \end{bmatrix}$      & 	0.48				\\
						\hline
					
					\end{tabular}
				\end{center}
			
			
				\begin{center}		
				\begin{tabular}{ | c | c | c || c | c |}
						\rowcolor{lightgray} 
			 	 &  \multicolumn{4}{c||}{ Performance du Classifier Euclidien}  \\
					\hline
					Jeu de données &   $\epsilon_{app}$ & $Ic_{app}$ & $\epsilon_{test}$ & $Ic_{test}$\\
					\hline
					\multirow{1}{*}{Synth2-1000}     &         0.061275    & $[0.06127, 0.06127]$		&0.0648    &		$[0.0647, 0.0648]$	 \\
					
					\hline
					
				\end{tabular}
			\end{center}
		
		\begin{center}		
			\begin{tabular}{ | c | c | c |}
				\rowcolor{lightgray} 
				&  \multicolumn{2}{|c|}{Performance du KPP}\\
				
				\hline
				Jeu de données &   $\epsilon_{test}$ &  $Ic_{test}$\\
				\hline
				\multirow{1}{*}{Synth2-1000}       &0.061   & $[0.0609, 0.0610]$ 			 \\
				\hline
			\end{tabular}
		\end{center}
				
				\subsubsection{ Jeux de données réelles: Pima \& Breast Cancer}
				
			
				
				
				\begin{center}		
				\begin{tabular}{ | c | c | c || c | c |}
					\rowcolor{lightgray} 
					&  \multicolumn{4}{c||}{ Performance du Classifier Euclidien}  \\
					\hline
					Jeu de données &   $\epsilon_{app}$ & $Ic_{app}$ & $\epsilon_{test}$ & $Ic_{test}$\\
					\hline
					\multirow{1}{*}{Pima}     &         0.2395  & $[0.2395, 0.2395]$		&0.2602       &		$[0.2601, 0.2602]$	 \\
					\hline
					\multirow{1}{*}{Cancer}     &        0.0403    & $[0.0403, 0.0403]$		&0.0397    &		$[ 0.03974, 0.03975]$	 \\
					\hline
					
				\end{tabular}
			\end{center}
				
				
					\begin{center}		
					\begin{tabular}{ | c | c | c |}
						\rowcolor{lightgray} 
						&  \multicolumn{2}{|c|}{Performance du KPP}\\
						
						\hline
						Jeu de données &   $\epsilon_{test}$ &  $Ic_{test}$\\
						\hline
						\multirow{1}{*}{Pima}       & 0.2575 & $[0.2574, 0.2575]$ 			 \\
						\hline
							\multirow{1}{*}{Cancer}       &0.03513   & $[0.03512, 0.03515]$ 			 \\
						\hline
					\end{tabular}
				\end{center}
				
				
				
				
						

		
	
	\section{Règle de Bayes}

	\section{Conclusion}

	\end{document}